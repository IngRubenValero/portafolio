const projects = [
    {
        id: 1,
        title: "Cálculo Hidrosanitario para Vivienda de Alquiler Estudiantil",
        description: "Diseñe y Calcule la red hidrosanitaria para una vivienda destinada a cuartos de alquiler, cada uno equipado con cocina y baño privado, optimizando el uso eficiente del agua y garantizando el confort de los estudiantes.",
        image: "img/Vivienda_Barrientos-min.png",
        category: "ingenieria",
        details: "Este proyecto involucró la planificación y cálculo hidrosanitario para una vivienda que ofrece cuartos en alquiler dirigidos a estudiantes. El enfoque estuvo en crear un sistema de agua y desagüe eficiente y sostenible. Los aspectos clave incluyen:\n\n- Cálculo de la red de abastecimiento de agua fría y caliente, asegurando un suministro continuo y óptimo para cada unidad.\n- Diseño del sistema de desagüe, priorizando la evacuación rápida y eficiente de aguas residuales.\n- Estudio de la presión y el caudal necesarios para soportar múltiples puntos de uso simultáneos en las cocinas y baños.\n- Optimización del uso del espacio para integrar las instalaciones hidrosanitarias sin afectar la distribución funcional de los cuartos.\n- Elaboración de planos detallados que garantizan una fácil implementación y mantenimiento de la red hidrosanitaria.",
        gallery: [
            "img/Vivienda_Barrientos-min.png",
            "img/Vivienda_Barrientos1-min.png",
            "img/Vivienda_Barrientos2-min.jpg",
        ]
    },
    {
        id: 2,
        title: "Edificio Académico Facultad de Humanidades y Ciencias de la Educación",
        description: "Colaboré en la obtención de los planos arquitectónicos del Edificio Académico Facultad de Humanidades y Ciencias de la Educación de la UMSS, utilizando la metodología BIM.",
        image: "img/EH-ARQ.jpg",
        category: "arquitectura",
        details: "Este proyecto consistió en el desarrollo y refinamiento del diseño arquitectónico del Edificio Académico Facultad de Humanidades y Ciencias de la Educación en colaboración con el Departamento de Infraestructura de la UMSS. Iniciando a partir de bocetos proporcionados por el arquitecto Eduardo Rosas, quien también supervisó el proceso, el diseño se elaboró utilizando la metodología BIM, permitiendo una integración fluida entre los diferentes elementos arquitectónicos y estructurales. Los aspectos clave del proyecto incluyen:\n\n- Desarrollo integral de planos arquitectónicos\n- Coordinación continua con el arquitecto supervisor para garantizar la coherencia del diseño\n- Uso de la metodología BIM para una mejor visualización y coordinación multidisciplinaria\n- Integración de los requisitos funcionales del edificio dentro del diseño",
        gallery: [
            "img/EH-ARQ.jpg",
            "img/EH2.jpg", 
            "img/EH-ARQ1.jpg", 
            "img/EH-ARQ2.jpg",
            "img/EH-ARQ3.jpg",
            "img/A-2100-EH_ARQUITECTURA (1)-0003-min.jpg",
            "img/A-2100-EH_ARQUITECTURA (1)-0008-min.jpg",
            "img/A-2100-EH_ARQUITECTURA (1)-0012-min.jpg",
            "img/A-2100-EH_ARQUITECTURA (1)-0015-min.jpg",
        ]
    },
    {
        id: 3,
        title: "Edificio Académico Facultad de Humanidades y Ciencias de la Educación",
        description: "Realicé los cálculos y el diseño estructural del Edificio de Humanidades de la UMSS, aplicando análisis sísmico según la norma GBDS2020.",
        image: "img/EH1.jpg",
        category: "ingenieria",
        details: "Este proyecto estructural incluyó el análisis sísmico y el desarrollo de los planos estructurales para el Edificio de Humanidades de la UMSS. Se trabajó bajo la supervisión del arquitecto Eduardo Rosas y en colaboración con el Departamento de Infraestructura. El análisis fue realizado con la metodología BIM y siguiendo las normativas sísmicas GBDS2020. Los aspectos clave del proyecto incluyen:\n\n- Cálculos estructurales detallados basados en análisis sísmico\n- Implementación de la norma GBDS2020 para garantizar la resistencia y seguridad estructural\n- Elaboración de planos estructurales detallados\n- Presupuesto de la edificación ajustado a los costos estimados.",
        gallery: [
            "img/EH1.jpg", 
            "img/E-2100-EH_ESTRUCTURA-0001-min.jpg",
            "img/E-2100-EH_ESTRUCTURA-0008-min.jpg",
            "img/E-2100-EH_ESTRUCTURA-0018-min.jpg",
            "img/E-2100-EH_ESTRUCTURA-0030-min.jpg",
        ]
    },
    {
        id: 4,
        title: "Modelado BIM y Planos Constructivos de Vivienda-Comercio con Canchas Deportivas",
        description: "Desarrollé un modelo BIM para la construcción de una vivienda-comercio, con énfasis en la detección de errores antes de la obra y la creación de planos constructivos.",
        image: "img/VIVIENDA_COMERCIO1-min.png",
        category: "arquitectura",
        details: "Este proyecto consistió en la creación de un modelo BIM para una vivienda-comercio multifuncional. La planta baja estaba destinada a canchas de wally y ráquet, mientras que las plantas superiores fueron diseñadas para viviendas. El modelo BIM permitió la detección de errores antes de la construcción, optimizando el proceso constructivo y minimizando contratiempos. Además, se elaboraron planos constructivos precisos, según los requerimientos del cliente. Los elementos clave del proyecto incluyen:\n\n- Modelado BIM para visualización integral y análisis de interferencias\n- Detección de errores y optimización del diseño antes de la construcción\n- Elaboración de planos constructivos detallados para el cliente\n- Coordinación de las áreas deportivas y residenciales dentro del mismo proyecto",
        gallery: [
            "img/VIVIENDA_COMERCIO1-min.png", 
            "img/VIVIENDA_COMERCIO-min.png", 
            "img/VIVIENDA_COMERCIO2-min.jpg"
        ]
    },
    {
        id: 5,
        title: "Modelado BIM y Planos Constructivos de Mausoleo",
        description: "Realicé un modelado BIM para obtener los cómputos métricos y el presupuesto de un mausoleo, además de elaborar los planos constructivos.",
        image: "img/MAUSOLEO.jpg",
        category: "arquitectura",
        details: "Este proyecto incluyó el desarrollo de un modelado BIM detallado para un mausoleo, permitiendo la obtención precisa de cómputos métricos y el presupuesto ajustado a las necesidades del proyecto. A partir del modelo generado, se elaboraron los planos constructivos, asegurando una ejecución eficiente y alineada con las especificaciones del diseño. Los aspectos clave del proyecto incluyen:\n\n- Generación de un modelo BIM para visualización y análisis de materiales\n- Obtención de cómputos métricos precisos y generación del presupuesto\n- Elaboración de planos constructivos detallados\n- Coordinación eficiente de los aspectos arquitectónicos y estructurales del mausoleo",
        gallery: [
            "img/MAUSOLEO.jpg", 
            "img/MAUSOLEO1.jpg", 
            "img/MAUSOLEO2-min.png",
            "img/MAUSOLEO4-min.png",
            "img/MAUSOLEO-PLANO-min.jpg"
        ]
    },
    {
        id: 6,
        title: "Cálculo Estructural y Modelado BIM de Edificio Multifamiliar",
        description: "Realicé el cálculo estructural de un edificio multifamiliar, optimizando los gastos de material mediante un modelado BIM y obteniendo planos estructurales y cuantías de acero precisas.",
        image: "img/VIVIENDA-MV-min.png",
        category: "ingenieria",
        details: "Este proyecto involucró el cálculo estructural detallado de un edificio de vivienda multifamiliar. El cliente requería optimizar los gastos de material, especialmente en acero, por lo que se optó por un modelado BIM para obtener cuantías exactas. El modelo permitió no solo la optimización de costos, sino también la creación de planos estructurales precisos, asegurando que la construcción fuera eficiente y económica. Los aspectos clave del proyecto incluyen:\n\n- Modelado BIM de la estructura para visualización y análisis de cantidades\n- Cálculo detallado de las cuantías de acero para optimización de costos\n- Elaboración de planos estructurales detallados\n- Coordinación eficiente entre los elementos estructurales del edificio",
        gallery: [
            "img/VIVIENDA-MV1-min.png",
            "img/VIVIENDA-MV2-min.png",
            "img/VIVIENDA-MV.jpg",
        ]
    },
    {
        id: 7,
        title: "Cálculo Estructural de Tinglados para la Facultad de Agronomía",
        description: "Colaboré en el cálculo estructural de tres tinglados para la crianza de cuyes, y un tanque elevado para el abastecimiento de agua en las nuevas infraestructuras de la Facultad de Agronomía.",
        image: "img/cubierta-min.jpg",
        category: "ingenieria",
        details: "Este proyecto incluyó la elaboración de planos y el cálculo estructural de varias infraestructuras para la Facultad de Agronomía. El trabajo abarcó laboratorios, oficinas, tres tinglados diseñados específicamente para la crianza de cuyes, y un tanque elevado destinado al suministro de agua para las nuevas instalaciones. Los aspectos clave del proyecto incluyen:\n\n- Cálculo estructural de laboratorios y oficinas\n- Diseño y cálculo de tres tinglados adaptados para la crianza de cuyes\n- Cálculo del tanque elevado para el abastecimiento de agua de las infraestructuras\n- Elaboración de planos estructurales detallados para cada una de las edificaciones",
        gallery: [
            "img/cubierta-min.jpg",
            "img/cubierta1-min.jpg",
            "img/CUBIERTA-AGRO-min.png",
            "img/CUBIERTA-AGRO1-min.jpg",
            "img/CUBIERTA-AGRO2-min.jpg",
        ]
    },
    {
        id: 8,
        title: "Elaboración de Planos para Obras Sociales en Zonas Rurales",
        description: "Colaboré en la elaboración de planos para la construcción de atajados, silos de papa, cobertizos para llamas y sistemas de recolección de agua de lluvia destinados a mejorar las condiciones de comunidades rurales.",
        image: "img/OBRAS-SOCIALES.jpg",
        category: "ingenieria",
        details: "Este proyecto abarcó la elaboración de planos detallados para diversas obras sociales con un enfoque en mejorar las condiciones rurales. Las infraestructuras diseñadas incluían atajados para la captación de agua, silos para almacenar papa, cobertizos para la protección de llamas, y sistemas de recolección de agua de lluvia para optimizar las cosechas. Los aspectos clave del proyecto incluyen:\n\n- Diseño y planos para la construcción de atajados de captación de agua\n- Planos para silos de almacenamiento de papa\n- Cobertizos para la protección y cría de llamas\n- Recolectores de agua de lluvia para el riego de cosechas",
        gallery: [
            "img/RECOLECTOR-min.png",
            "img/COBERTIZO-min.png",
            "img/ATAJADO-min.png",
            "img/SILO_PAPA-min.png",
        ]
    },
    {
        id: 9,
        title: "Diseño de Salón de Eventos con Cubierta Metálica",
        description: "Colaboré en el diseño de un salón de eventos con cubierta metálica, utilizando la metodología BIM para optimizar materiales y evitar fallas durante la construcción. La cubierta fue diseñada para soportar inclemencias climáticas, como granizo.",
        image: "img/SALON-EVENTOS-min.png",
        category: "ingenieria",
        details: "Este proyecto consistió en el diseño de un salón de eventos con una cubierta metálica de alta resistencia. La metodología BIM permitió prever posibles fallas en la construcción y optimizar el uso de los materiales. La cubierta fue diseñada para soportar condiciones climáticas adversas, incluyendo fuertes lluvias y granizo. Los aspectos clave del proyecto incluyen:\n\n- Uso de la metodología BIM para optimización de materiales y prevención de fallas\n- Diseño de una cubierta metálica resistente a inclemencias climáticas\n- Coordinación precisa de los aspectos estructurales y arquitectónicos\n- Garantía de seguridad y durabilidad a largo plazo",
        gallery: [
            "img/SALON-EVENTOS1-min.png",
            "img/SALON-EVENTOS2-min.png",
            "img/SALON-EVENTOS3-min.png",
            "img/SALON-EVENTOS4-min.png",
            "img/SALON-EVENTOS5-min.jpg",
            "img/SALON-EVENTOS6-min.png",
        ]
    },
    {
        id: 10,
        title: "Cálculo Estructural y Supervisión de Edificación Multifamiliar",
        description: "Realicé el cálculo estructural y la supervisión de una edificación de vivienda multifamiliar, asegurando la coordinación de todas las especialidades mediante la metodología BIM. Estuve a cargo hasta la finalización de la obra, garantizando la optimización de los materiales utilizados.",
        image: "img/VIVIENDA-EP-ARQ-min.png",
        category: "ingenieria",
        details: "Este proyecto incluyó tanto el cálculo estructural como la supervisión completa de la construcción de una vivienda multifamiliar. Utilizando la metodología BIM, todas las especialidades involucradas en el proyecto estuvieron coordinadas para asegurar una ejecución eficiente y sin fallos. Como supervisor, estuve a cargo de la obra desde sus etapas iniciales de obra gruesa hasta la obra fina, garantizando que los materiales se utilizaran de manera óptima. Gracias al modelo digital creado, fue sencillo seguir los requerimientos del cliente y cumplir con sus expectativas. Los aspectos clave del proyecto incluyen:\n\n- Cálculo estructural detallado y supervisión en obra\n- Uso de metodología BIM para la coordinación eficiente entre especialidades\n- Supervisión de obra gruesa y obra fina\n- Optimización de materiales según el modelo digital y requerimientos del cliente",
        gallery: [
            "img/VIVIENDA-EP-ARQ-min.png",
            "img/VIVIENDA-EP-ARQ1-min.png",
            "img/VIVIENDA-EP-ARQ2-min.png",
            "img/VIVIENDA-EP-min.png",
            "img/VIVIENDA-EP1-min.jpg",
            "img/VIVIENDA-EP2-min.jpg"
        ]
    }
    
    
    
    
];

// 2. Modifica la función createProjectCard para incluir la categoría
function createProjectCard(project) {
    return `
        <div class="project-card" 
             onclick="openModal(${project.id})"
             data-category="${project.category}">
            <img class="project-image" 
                 src="${project.image}" 
                 alt="${project.title}" 
                 width="300" 
                 height="200">
            <div class="project-info">
                <h3 class="project-title">${project.title}</h3>
                <p class="project-description">${project.description}</p>
            </div>
        </div>
    `;
}

// Populate the project gallery
document.addEventListener('DOMContentLoaded', function() {
    const projectGallery = document.getElementById('projectGallery');
    if (projectGallery) {
        projects.forEach(project => {
            projectGallery.innerHTML += createProjectCard(project);
        });
    } else {
        console.error('Project gallery element not found');
    }
});

let isFullscreen = false;
let zoomLevel = 1;
const ZOOM_STEP = 0.5;

function toggleFullscreen(imageContainer) {
    if (!isFullscreen) {
        if (imageContainer.requestFullscreen) {
            imageContainer.requestFullscreen();
        } else if (imageContainer.webkitRequestFullscreen) {
            imageContainer.webkitRequestFullscreen();
        } else if (imageContainer.msRequestFullscreen) {
            imageContainer.msRequestFullscreen();
        }
    } else {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
        }
    }
}

function handleZoom(direction) {
    const mainImage = document.getElementById('mainImage');
    if (direction === 'in' && zoomLevel < 3) {
        zoomLevel += ZOOM_STEP;
    } else if (direction === 'out' && zoomLevel > 1) {
        zoomLevel -= ZOOM_STEP;
    }
    mainImage.style.transform = `scale(${zoomLevel})`;
}

function resetZoom() {
    zoomLevel = 1;
    const mainImage = document.getElementById('mainImage');
    mainImage.style.transform = `scale(${zoomLevel})`;
}

// Modal functionality
const modal = document.getElementById("projectModal");
const span = document.querySelector(".close");

function openModal(projectId) {
    setupModalAccessibility();
    const project = projects.find(p => p.id === projectId);
    if (project && modal) {
        const modalTitle = document.getElementById("modalTitle");
        const modalDescription = document.getElementById("modalDescription");
        const modalDetails = document.getElementById("modalDetails");
        const mainImage = document.getElementById("mainImage");
        const thumbnailGallery = document.getElementById("thumbnailGallery");

        if (modalTitle) modalTitle.textContent = project.title;
        if (modalDescription) modalDescription.textContent = project.description;
        
        // Usamos la función formatDetails para procesar los saltos de línea
        if (modalDetails) modalDetails.innerHTML = formatDetails(project.details);

        // Función para reemplazar saltos de línea por <br>
        function formatDetails(details) {
            return details.replace(/\n/g, '<br>');
        }
        
        let currentImageIndex = 0;

        function updateMainImage(index) {
            if (mainImage && project.gallery[index]) {
                mainImage.src = project.gallery[index];
                mainImage.alt = `${project.title} - Imagen ${index + 1}`;
            }
            document.querySelectorAll('.thumbnail').forEach((thumb, idx) => {
                thumb.classList.toggle('active', idx === index);
            });
            currentImageIndex = index;
        }

        if (mainImage && project.gallery[0]) {
            mainImage.src = project.gallery[0];
            mainImage.alt = `${project.title} - Imagen 1`;
        }

        if (thumbnailGallery) {
            thumbnailGallery.innerHTML = '';
            project.gallery.forEach((img, index) => {
                const thumbnail = document.createElement('img');
                thumbnail.src = img;
                thumbnail.alt = `${project.title} - Miniatura ${index + 1}`;
                thumbnail.className = 'thumbnail';
                if (index === 0) thumbnail.classList.add('active');
                thumbnail.onclick = () => updateMainImage(index);
                thumbnailGallery.appendChild(thumbnail);
            });
        }

        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');

        if (prevBtn) {
            prevBtn.onclick = () => {
                currentImageIndex = (currentImageIndex - 1 + project.gallery.length) % project.gallery.length;
                updateMainImage(currentImageIndex);
            };
        }

        if (nextBtn) {
            nextBtn.onclick = () => {
                currentImageIndex = (currentImageIndex + 1) % project.gallery.length;
                updateMainImage(currentImageIndex);
            };
        }

        // Agregar controles de zoom y pantalla completa si no existen
        if (!document.querySelector('.image-controls')) {
            const controlsHTML = `
                <div class="image-controls">
                    <button class="control-btn fullscreen-btn" title="Pantalla completa">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="control-btn zoom-in" title="Acercar">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="control-btn zoom-out" title="Alejar">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="control-btn reset-zoom" title="Restablecer zoom">
                        <i class="fas fa-undo"></i>
                    </button>
                </div>
            `;

            const mainImageContainer = document.querySelector('.main-image-container');
            mainImageContainer.insertAdjacentHTML('beforeend', controlsHTML);

            // Agregar event listeners para los nuevos controles
            document.querySelector('.fullscreen-btn').addEventListener('click', () => toggleFullscreen(mainImageContainer));
            document.querySelector('.zoom-in').addEventListener('click', () => handleZoom('in'));
            document.querySelector('.zoom-out').addEventListener('click', () => handleZoom('out'));
            document.querySelector('.reset-zoom').addEventListener('click', resetZoom);
        }

        // Actualizar el estado de pantalla completa
        document.addEventListener('fullscreenchange', () => {
            isFullscreen = !!document.fullscreenElement;
            const fullscreenBtn = document.querySelector('.fullscreen-btn i');
            fullscreenBtn.className = isFullscreen ? 'fas fa-compress' : 'fas fa-expand';
        });

        modal.style.display = "block";
    }
}


if (span) {
    span.onclick = function() {
        if (modal) modal.style.display = "none";
    }
}

// Add panning functionality
let isPanning = false;
let startX = 0;
let startY = 0;
let translateX = 0;
let translateY = 0;

const mainImageContainer = document.querySelector('.main-image-container');
const mainImage = document.getElementById('mainImage');

if (mainImageContainer) {
    mainImageContainer.addEventListener('mousedown', (e) => {
        isPanning = true;
        startX = e.clientX - translateX;
        startY = e.clientY - translateY;
        mainImageContainer.style.cursor = 'grabbing';
    });

    mainImageContainer.addEventListener('mousemove', (e) => {
        if (!isPanning) return;
        translateX = e.clientX - startX;
        translateY = e.clientY - startY;
        mainImage.style.transform = `scale(${zoomLevel}) translate(${translateX}px, ${translateY}px)`;
    });

    mainImageContainer.addEventListener('mouseup', () => {
        isPanning = false;
        mainImageContainer.style.cursor = 'grab';
    });

    mainImageContainer.addEventListener('mouseleave', () => {
        isPanning = false;
        mainImageContainer.style.cursor = 'grab';
    });

    mainImageContainer.addEventListener('wheel', (e) => {
        e.preventDefault();
        if (e.deltaY < 0 && zoomLevel < 3) {
            handleZoom('in');
        } else if (e.deltaY > 0 && zoomLevel > 1) {
            handleZoom('out');
        }
    });
}

// Reset panning when zoom is reset
function resetZoom() {
    zoomLevel = 1;
    translateX = 0;
    translateY = 0;
    mainImage.style.transform = `scale(${zoomLevel}) translate(${translateX}px, ${translateY}px)`;
}

// Close modal when clicking outside of it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
        resetZoom(); // Restaurar tamaño inicial al cerrar el modal
    }
}

// Restaurar tamaño inicial al salir de pantalla completa
document.addEventListener('fullscreenchange', () => {
    if (!document.fullscreenElement) {
        resetZoom();
    }
});

// Add mouse wheel zoom functionality
mainImageContainer.addEventListener('wheel', (e) => {
    e.preventDefault();
    if (e.deltaY < 0 && zoomLevel < 3) {
        handleZoom('in');
    } else if (e.deltaY > 0 && zoomLevel > 1) {
        handleZoom('out');
    }
});

// Add panning functionality

mainImageContainer.addEventListener('mousedown', (e) => {
    isPanning = true;
    startX = e.clientX - translateX;
    startY = e.clientY - translateY;
    mainImageContainer.style.cursor = 'grabbing';
});

mainImageContainer.addEventListener('mousemove', (e) => {
    if (!isPanning) return;
    translateX = e.clientX - startX;
    translateY = e.clientY - startY;
    mainImage.style.transform = `scale(${zoomLevel}) translate(${translateX}px, ${translateY}px)`;
});

mainImageContainer.addEventListener('mouseup', () => {
    isPanning = false;
    mainImageContainer.style.cursor = 'grab';
});

mainImageContainer.addEventListener('mouseleave', () => {
    isPanning = false;
    mainImageContainer.style.cursor = 'grab';
});

// Add keyboard navigation for image gallery
document.addEventListener('keydown', (e) => {
    if (modal.style.display === "block") {
        if (e.key === 'ArrowLeft') {
            currentImageIndex = (currentImageIndex - 1 + projects.find(p => p.id === parseInt(modal.getAttribute('data-project-id'))).gallery.length) % projects.find(p => p.id === parseInt(modal.getAttribute('data-project-id'))).gallery.length;
            updateMainImage(currentImageIndex);
        } else if (e.key === 'ArrowRight') {
            currentImageIndex = (currentImageIndex + 1) % projects.find(p => p.id === parseInt(modal.getAttribute('data-project-id'))).gallery.length;
            updateMainImage(currentImageIndex);
        }
    }
});

function setupModalAccessibility() {
    const modalElement = document.getElementById('projectModal');
    modalElement.setAttribute('role', 'dialog');
    modalElement.setAttribute('aria-modal', 'true');
    
    const instructions = document.createElement('div');
    instructions.className = 'sr-only';
    instructions.textContent = 'Use las flechas izquierda y derecha para navegar entre imágenes. Presione Escape para cerrar el modal.';
    modalElement.prepend(instructions);
}

function lazyLoadImages() {
    const images = document.querySelectorAll('img[data-src]');
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                observer.unobserve(img);
            }
        });
    });
    
    images.forEach(img => imageObserver.observe(img));
}

document.addEventListener('DOMContentLoaded', lazyLoadImages);

// Añade la función de filtrado de proyectos
function filterProjects(category) {
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach(card => {
        if (category === 'all' || card.dataset.category === category) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}

// Añadir event listeners para los botones de filtro
document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Remover clase 'active' de todos los botones
            filterButtons.forEach(btn => btn.classList.remove('active'));
            // Añadir clase 'active' al botón clickeado
            this.classList.add('active');
            // Filtrar proyectos
            filterProjects(this.dataset.filter);
        });
    });
});